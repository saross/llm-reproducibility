{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Academic Claims Extraction Schema v2.3",
  "description": "Schema for extracting and assessing claims from research papers with hierarchical organization, dual-layer uncertainty tracking, and consolidation traceability",
  "version": "2.3",
  "last_updated": "2025-10-18",
  "changelog": {
    "2.3": "Added consolidation_metadata to evidence, claims, and implicit arguments for traceability; added related_evidence field; enhanced claim structure with primary_function, claim_nature, quantitative_details; added 'synthesis' to claim_role enum; enhanced declared_uncertainty structure with additional fields",
    "2.2": "Separated extraction-time vs assessment-time fields; added credibility_assessment structure (populated during assessment pass); enhanced evidence_strength for extraction-time observations",
    "2.1": "Post-calibration refinements: Formalized Type 3 (disciplinary_assumption) extraction; added optional COI field to implicit arguments",
    "2.0": "Initial comprehensive schema with dual-layer uncertainty and four-level hierarchy"
  },
  
  "definitions": {
    "consolidation_metadata": {
      "type": "object",
      "description": "Documents consolidation operations performed in Pass 2 rationalization",
      "properties": {
        "consolidation_performed": {
          "type": "boolean",
          "description": "Whether this item was created by consolidating Pass 1 items"
        },
        "source_items": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Pass 1 item IDs that were merged to create this item (e.g., ['P1_E001', 'P1_E002'])"
        },
        "consolidation_type": {
          "type": "string",
          "enum": [
            "granularity_reduction",
            "compound_finding", 
            "analytical_view",
            "phase_aggregation",
            "profile_consolidation",
            "redundancy_elimination",
            "narrative_consolidation",
            "compound_interpretation",
            "synthesis"
          ],
          "description": "Type of consolidation operation performed"
        },
        "information_preserved": {
          "type": "string",
          "enum": ["complete", "lossy_granularity", "lossy_redundancy"],
          "description": "Whether consolidation lost information vs just reorganized"
        },
        "granularity_available": {
          "type": "string",
          "description": "Description of additional granularity available in source paper but not extracted"
        },
        "rationale": {
          "type": "string",
          "description": "Brief explanation of why consolidation was appropriate"
        }
      }
    },
    
    "evidence": {
      "type": "object",
      "description": "Raw observations, measurements, or data points from the paper",
      "required": ["evidence_id", "evidence_text", "evidence_type"],
      "properties": {
        "evidence_id": {
          "type": "string",
          "pattern": "^E[0-9]+$",
          "description": "Unique identifier (E001, E002, ...)"
        },
        "evidence_text": {
          "type": "string",
          "description": "The actual evidence statement"
        },
        
        "_comment_extraction_time": "Fields populated during EXTRACTION pass",
        "evidence_type": {
          "type": "string",
          "description": "Type of evidence (free-text, will evolve into controlled vocabulary)"
        },
        "evidence_basis": {
          "type": "string",
          "enum": ["direct_measurement", "statistical_output", "observational_record", "archival_document", "professional_judgment", "author_assertion", "derived_calculation", "comparative_analysis"],
          "description": "Observable basis for this evidence (extraction-time classification)"
        },
        "supports_claims": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Claim IDs this evidence supports"
        },
        "related_evidence": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Other evidence IDs related to this item (e.g., analytical view references comprehensive item)"
        },
        "declared_uncertainty": {
          "type": "object",
          "description": "Uncertainty as stated by authors",
          "properties": {
            "type": {
              "type": "string",
              "enum": ["statistical", "measurement_error", "bounded_range", "confidence_interval", "stylistic_range", "approximation", "hedging"]
            },
            "indicator": {
              "type": "string",
              "description": "Linguistic marker of uncertainty (ca., about, approximately, Â±, etc.)"
            },
            "applies_to": {
              "type": "string",
              "description": "What the uncertainty applies to (e.g., 'area coverage', 'record threshold')"
            },
            "point_estimate_with_error": {"type": "string"},
            "upper_bound": {"type": "string"},
            "bounded_range": {"type": "string"},
            "range": {"type": "string"},
            "confidence_level": {"type": "number"},
            "hedging_language": {"type": "array", "items": {"type": "string"}},
            "present": {"type": "boolean"}
          }
        },
        "expected_uncertainty_missing": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Uncertainty information we would expect but is absent"
        },
        
        "_comment_extraction_observations": "Observations made during extraction (not full assessment)",
        "expected_information_missing": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Information we would expect to see but is absent (from expected_information_checklists)"
        },
        "extraction_notes": {
          "type": "string",
          "description": "Extractor observations about this evidence (quality concerns, gaps, ambiguities)"
        },
        "extraction_confidence": {
          "type": "string",
          "enum": ["explicit", "inferred", "ambiguous"],
          "description": "How confident extractor is in classification"
        },
        "implicit_evidence": {
          "type": "object",
          "description": "When evidence comes from implicit sources",
          "properties": {
            "evidence_type": {
              "type": "string",
              "enum": ["author_observation", "professional_judgment", "team_consensus", "disciplinary_knowledge", "common_knowledge"]
            },
            "explanation_provided": {"type": "boolean"}
          }
        },
        
        "_comment_assessment_time": "Fields populated during ASSESSMENT pass (separate from extraction)",
        "evidence_strength": {
          "type": "object",
          "description": "ASSESSMENT-TIME: Evaluative judgment of evidence quality",
          "properties": {
            "score": {
              "type": "string",
              "enum": ["strong", "moderate", "weak", "insufficient", "not_yet_assessed"],
              "default": "not_yet_assessed"
            },
            "rationale": {
              "type": "string",
              "description": "Why this strength score"
            },
            "limitations": {
              "type": "array",
              "items": {"type": "string"},
              "description": "Known weaknesses affecting strength"
            },
            "triangulated_with": {
              "type": "array",
              "items": {"type": "string"},
              "description": "Evidence IDs that corroborate this"
            }
          }
        },
        
        "consolidation_metadata": {
          "$ref": "#/definitions/consolidation_metadata"
        },
        
        "location": {
          "type": "object",
          "properties": {
            "section": {"type": "string"},
            "page": {"type": "number"},
            "paragraph": {"type": ["number", "string"]}
          }
        },
        "verbatim_quote": {
          "type": "string",
          "description": "Exact text from paper"
        }
      }
    },
    
    "claim": {
      "type": "object",
      "description": "Assertions made by the paper that require evidence and/or interpretation",
      "required": ["claim_id", "claim_text", "claim_type", "claim_role"],
      "properties": {
        "claim_id": {
          "type": "string",
          "pattern": "^C[0-9]+$",
          "description": "Unique identifier (C001, C002, ...)"
        },
        "claim_text": {
          "type": "string",
          "description": "The actual claim being made"
        },
        
        "_comment_extraction_time_classification": "Fields populated during EXTRACTION pass",
        "claim_type": {
          "type": "string",
          "enum": ["EMPIRICAL", "INTERPRETATION", "METHODOLOGICAL", "THEORETICAL"],
          "description": "Nature of the claim"
        },
        "claim_role": {
          "type": "string",
          "enum": ["core", "intermediate", "supporting", "evidence", "background", "transitional", "methodological", "synthesis"],
          "description": "Role in the paper's argument structure"
        },
        "primary_function": {
          "type": "string",
          "enum": ["premise", "finding", "conclusion", "recommendation", "none"],
          "description": "Primary argumentative function of the claim"
        },
        "claim_scope": {
          "type": "string",
          "enum": ["project", "domain", "general"],
          "description": "Scope of applicability"
        },
        "claim_status": {
          "type": "string",
          "enum": ["explicit", "implicit"],
          "description": "Whether stated in paper or inferred by extractor"
        },
        "claim_nature": {
          "type": "string",
          "enum": ["quantitative", "qualitative", "mixed", "definitional"],
          "description": "Nature of the claim"
        },
        "quantitative_details": {
          "type": "object",
          "description": "Additional details for quantitative claims",
          "properties": {
            "source": {
              "type": "string",
              "enum": ["measurement", "calculation", "estimate", "statistical"]
            },
            "confidence_basis": {"type": "string"},
            "bounded_range": {"type": "string"},
            "arithmetic_verifiable": {"type": "boolean"}
          }
        },
        
        "_comment_extraction_time_observations": "What extractor observes during extraction",
        "author_confidence": {
          "type": "string",
          "enum": ["definite", "probable", "speculative", "hedged"],
          "description": "How confidently authors state this claim"
        },
        "declared_uncertainty": {
          "type": "object",
          "description": "Uncertainty as stated by authors",
          "properties": {
            "type": {
              "type": "string",
              "enum": ["statistical", "measurement_error", "bounded_range", "confidence_interval", "stylistic_range", "approximation", "hedging"]
            },
            "indicator": {
              "type": "string",
              "description": "Linguistic marker of uncertainty"
            },
            "applies_to": {"type": "string"},
            "point_estimate_with_error": {"type": "string"},
            "upper_bound": {"type": "string"},
            "bounded_range": {"type": "string"},
            "range": {"type": "string"},
            "confidence_level": {"type": "number"},
            "hedging_language": {"type": "array", "items": {"type": "string"}},
            "present": {"type": "boolean"}
          }
        },
        "expected_information_missing": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Information we would expect to see but is absent (from expected_information_checklists)"
        },
        "extraction_flags": {
          "type": "object",
          "description": "Flags noted during extraction",
          "properties": {
            "generalization_from_single_case": {
              "type": "boolean",
              "description": "Claim generalizes from single observation"
            },
            "requires_professional_judgment": {
              "type": "boolean",
              "description": "Claim requires domain expertise to assess"
            },
            "boundary_ambiguous": {
              "type": "boolean",
              "description": "Uncertain whether this is evidence or claim"
            }
          }
        },
        "extraction_confidence": {
          "type": "string",
          "enum": ["explicit", "inferred", "ambiguous"],
          "description": "Confidence in extraction itself"
        },
        "extraction_notes": {
          "type": "string",
          "description": "Extractor observations (not full assessment)"
        },
        
        "_comment_assessment_time": "Fields populated during ASSESSMENT pass (separate from extraction)",
        "credibility_assessment": {
          "type": "object",
          "description": "ASSESSMENT-TIME: Systematic credibility evaluation (adapted from repliCATS 7-signal framework)",
          "properties": {
            "_assessment_status": {
              "type": "string",
              "enum": ["not_yet_assessed", "in_progress", "complete"],
              "default": "not_yet_assessed",
              "description": "Whether this assessment has been completed"
            },
            "transparency": {
              "type": "object",
              "properties": {
                "score": {
                  "type": "string",
                  "enum": ["high", "moderate", "low", "unclear", "not_assessed"],
                  "default": "not_assessed"
                },
                "rationale": {"type": "string"},
                "missing_elements": {
                  "type": "array",
                  "items": {"type": "string"}
                }
              }
            },
            "plausibility": {
              "type": "object",
              "properties": {
                "score": {
                  "type": "string",
                  "enum": ["high", "moderate", "low", "unclear", "not_assessed"],
                  "default": "not_assessed"
                },
                "rationale": {"type": "string"},
                "red_flags": {
                  "type": "array",
                  "items": {"type": "string"}
                }
              }
            },
            "validity": {
              "type": "object",
              "properties": {
                "score": {
                  "type": "string",
                  "enum": ["high", "moderate", "low", "unclear", "not_assessed"],
                  "default": "not_assessed"
                },
                "rationale": {"type": "string"},
                "threats": {
                  "type": "array",
                  "items": {"type": "string"},
                  "description": "Validity threats (e.g., generalization_from_single_case, confounding)"
                }
              }
            },
            "robustness": {
              "type": "object",
              "properties": {
                "score": {
                  "type": "string",
                  "enum": ["high", "moderate", "low", "unclear", "not_assessed"],
                  "default": "not_assessed"
                },
                "rationale": {"type": "string"},
                "vulnerabilities": {
                  "type": "array",
                  "items": {"type": "string"}
                }
              }
            },
            "comprehensibility": {
              "type": "object",
              "properties": {
                "score": {
                  "type": "string",
                  "enum": ["high", "moderate", "low", "unclear", "not_assessed"],
                  "default": "not_assessed"
                },
                "rationale": {"type": "string"}
              }
            },
            "replicability": {
              "type": "object",
              "properties": {
                "score": {
                  "type": "string",
                  "enum": ["high", "moderate", "low", "unclear", "not_assessed"],
                  "default": "not_assessed"
                },
                "rationale": {"type": "string"},
                "missing_for_replication": {
                  "type": "array",
                  "items": {"type": "string"}
                }
              }
            },
            "generalizability": {
              "type": "object",
              "properties": {
                "score": {
                  "type": "string",
                  "enum": ["high", "moderate", "low", "unclear", "not_assessed"],
                  "default": "not_assessed"
                },
                "rationale": {"type": "string"},
                "boundary_issues": {
                  "type": "array",
                  "items": {"type": "string"}
                }
              }
            }
          }
        },
        
        "_comment_relationships": "Claim relationships and hierarchy",
        "supports_claims": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Higher-tier claims this supports"
        },
        "supported_by_claims": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Lower-tier claims that support this"
        },
        "supported_by_evidence": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Evidence IDs that support this claim"
        },
        "implicit_arguments": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Implicit argument IDs this claim relies on"
        },
        
        "consolidation_metadata": {
          "$ref": "#/definitions/consolidation_metadata"
        },
        
        "location": {
          "type": "object",
          "properties": {
            "section": {"type": "string"},
            "page": {"type": "number"},
            "paragraph": {"type": ["number", "string"]}
          }
        },
        "verbatim_quote": {
          "type": "string",
          "description": "Exact text from paper"
        }
      }
    },
    
    "implicit_argument": {
      "type": "object",
      "description": "Unstated reasoning that underlies explicit claims",
      "required": ["ia_id", "argument", "type", "status"],
      "properties": {
        "ia_id": {
          "type": "string",
          "pattern": "^IA[0-9]+$",
          "description": "Unique identifier (IA001, IA002, ...)"
        },
        "argument": {
          "type": "string",
          "description": "The implicit argument being made"
        },
        "type": {
          "type": "string",
          "enum": ["logical_implication", "unstated_assumption", "bridging_claim", "disciplinary_assumption"],
          "description": "Type of implicit reasoning"
        },
        "status": {
          "type": "string",
          "enum": ["unstated_but_implied", "assumed_without_acknowledgment", "disciplinary_assumption"],
          "description": "How implicit the argument is"
        },
        "supports_claims": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Claims that depend on this implicit argument"
        },
        "assessment_notes": {
          "type": "string",
          "description": "Why this matters for credibility"
        },
        "coi_note": {
          "type": "string",
          "description": "Optional: Note if author COI affects interpretation"
        },
        "consolidation_metadata": {
          "$ref": "#/definitions/consolidation_metadata"
        },
        "location": {
          "type": "object",
          "properties": {
            "section": {"type": "string"},
            "page": {"type": "number"},
            "paragraph": {"type": ["number", "string"]}
          }
        }
      }
    }
  },
  
  "type": "object",
  "required": ["paper_metadata", "evidence", "claims"],
  "properties": {
    "paper_metadata": {
      "type": "object",
      "required": ["title", "authors", "year"],
      "properties": {
        "title": {"type": "string"},
        "authors": {
          "type": "array",
          "items": {"type": "string"}
        },
        "year": {"type": "integer"},
        "doi": {"type": "string"},
        "extraction_date": {"type": "string"},
        "extractor": {"type": "string"}
      }
    },
    
    "workflow_notes": {
      "type": "object",
      "description": "Tracking extraction vs assessment workflow",
      "properties": {
        "extraction_complete": {"type": "boolean"},
        "extraction_completion_date": {"type": "string"},
        "assessment_complete": {"type": "boolean"},
        "assessment_completion_date": {"type": "string"},
        "notes": {"type": "string"}
      }
    },
    
    "evidence": {
      "type": "array",
      "items": {"$ref": "#/definitions/evidence"}
    },
    "claims": {
      "type": "array",
      "items": {"$ref": "#/definitions/claim"}
    },
    "implicit_arguments": {
      "type": "array",
      "items": {"$ref": "#/definitions/implicit_argument"}
    }
  }
}